(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(e,t,s){},140:function(e,t,s){},213:function(e,t,s){"use strict";s.r(t);var a=s(8),n=s(0),r=s.n(n),o=s(22),c=s.n(o),u=s(35),i=(s(122),s(42)),l=s(43),h=s(47),g=s(46),m=s(51),d=s.n(m),p=s(219),j=s(220),f=s(217),b=s(215),v=s(216),O=s(112),x=(s(140),s(71),function(e){Object(h.a)(s,e);var t=Object(g.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state={loginUrl:"http://81.68.155.14:8080/user/login",logoutUrl:"http://81.68.155.14:8080/user/logout",userInfo:"",password:"",usernameLength:"",flag:{number:8,validateStatus:"success",errorMsg:null}},a}return Object(l.a)(s,[{key:"hanldeLogout",value:function(){var e=this.state.logoutUrl;d.a.get(e).then((function(e){console.log(e),200===e.data.code?f.b.success("\u6ce8\u9500\u6210\u529f\uff01"):f.b.error("\u5c1a\u672a\u767b\u5f55\uff01")})).catch((function(e){console.log(e)}))}},{key:"handleLogin",value:function(){var e=this.state.usernameLength;e<6||e>12?this.setState({flag:{number:e,validateStatus:"error",errorMsg:"\u8d26\u53f7\u957f\u5ea6\u5e94\u4e3a6~12\u4f4d\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"}}):(this.setState({flag:{number:e,validateStatus:"success",errorMsg:null}}),d()({method:"post",url:"http://81.68.155.14:8080/user/login",data:{username:this.state.userInfo,password:this.state.password}}).then((function(e){console.log(e),console.log(e.cookies),200===e.data.code?f.b.success("\u767b\u5f55\u6210\u529f\uff01"):f.b.error("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef")})).catch((function(e){console.log(e)})))}},{key:"userInput",value:function(e){var t=e.target.value,s=t.length;this.setState({userInfo:t,usernameLength:s})}},{key:"passwordInput",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(b.a,{name:"normal_login",className:"login-form",children:[Object(a.jsx)(b.a.Item,{name:"username",validateStatus:this.state.flag.validateStatus,help:this.state.flag.errorMsg,rules:[{required:!0,message:"Please input your Username!"}],children:Object(a.jsx)(v.a,{onChange:function(t){return e.userInput(t)},prefix:Object(a.jsx)(p.a,{className:"site-form-item-icon"}),placeholder:"\u7528\u6237\u540d\uff1a\u8bf7\u8f93\u5165\u7528\u6237\u540d"})}),Object(a.jsx)(b.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(v.a,{onPressEnter:function(){return e.handleLogin()},onChange:function(t){return e.passwordInput(t)},prefix:Object(a.jsx)(j.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u5bc6\u7801\uff1a\u8bf7\u8f93\u5165\u5bc6\u7801"})}),Object(a.jsxs)(b.a.Item,{children:[Object(a.jsx)(O.a,{onClick:function(){return e.handleLogin()},type:"primary",htmlType:"submit",className:"login-form-button",children:"\u767b\u5f55"}),Object(a.jsx)(u.b,{to:"/Register",children:"\u7acb\u5373\u6ce8\u518c"}),Object(a.jsx)(O.a,{onClick:function(){return e.hanldeLogout()},danger:!0,className:"logout",children:"\u6ce8\u9500"})]})]})}}]),s}(r.a.Component)),y=function(e){Object(h.a)(s,e);var t=Object(g.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).state={registerUrl:"http://81.68.155.14:8080/user/register",userInfo:"",password:"",usernameLength:"",flag:{number:8,validateStatus:"success",errorMsg:null}},e}return Object(l.a)(s,[{key:"usernameInput",value:function(e){var t=e.target.value,s=t.length;this.setState({userInfo:t,usernameLength:s})}},{key:"passwordInput",value:function(e){var t=e.target.value;this.setState({password:t})}},{key:"handleRegister",value:function(){var e=this.state.usernameLength;e<6||e>12?this.setState({flag:{number:e,validateStatus:"error",errorMsg:"\u8d26\u53f7\u957f\u5ea6\u5e94\u4e3a6~12\u4f4d\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01"}}):(this.setState({flag:{number:e,validateStatus:"success",errorMsg:null}}),d.a.post(this.state.registerUrl,{username:this.state.userInfo,password:this.state.password}).then((function(e){console.log(e),200===e.data.code?f.b.success("\u6ce8\u518c\u6210\u529f\uff01"):f.b.error("\u7528\u6237\u5df2\u5b58\u5728")})).catch((function(e){console.log(e)})))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(b.a,{name:"normal_login",className:"login-form",children:[Object(a.jsx)(b.a.Item,{name:"username",validateStatus:this.state.flag.validateStatus,help:this.state.flag.errorMsg,rules:[{required:!0,message:"Please input your Username!"}],children:Object(a.jsx)(v.a,{onChange:function(t){return e.usernameInput(t)},prefix:Object(a.jsx)(p.a,{className:"site-form-item-icon"}),placeholder:"\u7528\u6237\u540d\uff1a\u8bf7\u8f93\u5165\u7528\u6237\u540d"})}),Object(a.jsx)(b.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(v.a,{onChange:function(t){return e.passwordInput(t)},prefix:Object(a.jsx)(j.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u5bc6\u7801\uff1a\u8bf7\u8f93\u5165\u5bc6\u7801"})}),Object(a.jsxs)(b.a.Item,{children:[Object(a.jsx)(O.a,{onClick:function(){return e.handleRegister()},type:"primary",htmlType:"submit",className:"login-form-button",children:"\u6ce8\u518c"}),"Or ",Object(a.jsx)(u.b,{to:"/",children:"\u8fd4\u56de\u767b\u5f55"})]})]})}}]),s}(r.a.Component),I=s(14),w=function(e){Object(h.a)(s,e);var t=Object(g.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"Container",children:[Object(a.jsxs)("div",{className:"topContent",children:[Object(a.jsx)("img",{className:"antd_pic",src:"https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"}),Object(a.jsx)("h1",{className:"title",children:"\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"})]}),Object(a.jsx)(I.a,{exact:!0,path:"/",component:x}),Object(a.jsx)(I.a,{path:"/Register",component:y})]})})}}]),s}(r.a.Component),S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,221)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;s(e),a(e),n(e),r(e),o(e)}))};c.a.render(Object(a.jsx)(u.a,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),S()},71:function(e,t,s){}},[[213,1,2]]]);
//# sourceMappingURL=main.f2f7d71a.chunk.js.map